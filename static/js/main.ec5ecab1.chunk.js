(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,n){e.exports=n(52)},50:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(22),i=n.n(r),o=n(15),c=n(8),l=n(28),u=n(14),p=n(12),d=n(5),m=n(6),h=n(10),f=n(9),b=n(11),O={ADD_OR_OPEN_LIST:null,CHECK_AND_SAVE:null,DATA_CONFLICT:null,PREPEND:null,IMPORT_LIST:null,EXPORT_LIST:null,MOVE_CHOOSE:null,MOVE_TO:null,COPY_OR_MOVE:null,PLAN_WEEK:null,REFRESH_LIST:"async",LIST_OF_LISTS:"async",NEW_LIST:"async",REMOVE_LIST:"async",UPDATE_LIST:"async",GET_A_LIST:"async"};Object.keys(O).forEach(function(e){if("async"===O[e])O[e]={all:[]},["REQUEST","SUCCESS","FAILURE"].forEach(function(t){var n="".concat(e,"_").concat(t);O[e][t]=n,O[e].all.push(n)});else{if(null!==O[e])throw new Error('Type value must be "async" or null');O[e]=e}});var E=O,g=function(){function e(){Object(d.a)(this,e),this.initialState={},this.ACTION_HANDLERS={},this.handleActions=this.handler.bind(this)}return Object(m.a)(e,[{key:"handler",value:function(e,t){e||(e=this.initialState);var n=this.ACTION_HANDLERS[t.type];return n?n(e,t):e}}]),e}(),v={mode:{MODE_LOADING:"LOADING",MODE_ERROR:"ERROR",MODE_LIST_OF_LISTS:"LIST_OF_LISTS",MODE_A_LIST:"GET_A_LIST",MODE_MOVE:"MOVE",DATA_CONFLICT:"DATA_CONFLICT"}},y=n(19),k=n.n(y),L={devHost:"http://akvaratododb.herokuapp.com/",apiHost:"https://akvaratododb.herokuapp.com/",separatorString:"..................",listsAddon:"lists",settingsAddon:"settings",maxTaskLength:50,loadingStringLength:40,user:{id:1,name:"akvara",settings:{openListIfExists:"Current",addNewAt:4,displayListLength:15,displayDoneLength:3,displayLast:2}},settingsConfig:{addNewAt:{explain:"Add new item at position",handler:"numeric",default:5,min:1,max:10},displayListLength:{explain:"Display number of tasks at once",default:17,handler:"numeric",min:1,max:50},displayLast:{explain:"Display number of tasks at bottom",default:3,handler:"numeric",min:1,max:50},displayDoneLength:{explain:"Display number of done tasks",default:3,handler:"numeric",min:1,max:50},openListIfExists:{explain:"Load this list on start",handler:"selector",field:""}},statusNode:document.getElementById("status"),userNode:document.getElementById("user"),appNode:document.getElementById("app"),footerNode:document.getElementById("footer"),clickSound:"https://www.soundjay.com/button/button-20.mp3",version:"1228-13"},S=function(e,t,n){return n?e.sort(function(e,n){return e[t]>n[t]?-1:1}):e.sort(function(e,n){return e[t]<n[t]?-1:1})},T=function(e,t,n,a){var s=e[n];return e.splice(n,1),{A:e,B:t=a?k.a.unique([s].concat(t)):k.a.unique(t.concat([s]))}},_=function(e,t){var n=e[t];return e.splice(t,1),e.concat([n])},D=function(e,t){var n=e[t];return e.splice(t,1),[n].concat(e)},j=function(e,t,n){var a=e[t];return e.splice(t,1),e.splice(n,0,a),e},I=function(e,t){return e.splice(t,1),e},A=function(e,t){return JSON.stringify(k.a.unique(JSON.parse(e).concat(JSON.parse(t))))},x=function(e,t){return JSON.stringify(k.a.unique([e].concat(JSON.parse(t))))},N=function(e,t){return JSON.stringify(JSON.parse(t).filter(function(t){return t!==e}))},C=function(e,t){return t.length>L.user.settings[e]},w=function(e){return M(e).substr(0,10)},R=function(e){return M(e).substr(11,5)},M=function(e){return new Date(new Date(e).toString().replace(/GMT.*/g,"")+" UTC").toISOString()},P=(new(function(e){function t(){var e,n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this))).initialState={},n.ACTION_HANDLERS=(e={},Object(p.a)(e,E.LIST_OF_LISTS.REQUEST,n.listOfListsRequest),Object(p.a)(e,E.LIST_OF_LISTS.SUCCESS,n.listOfListsFetched),Object(p.a)(e,E.REFRESH_LIST.SUCCESS,n.listOfListsRefreshed),Object(p.a)(e,E.REMOVE_LIST.REQUEST,n.removeListRequest),Object(p.a)(e,E.UPDATE_LIST.SUCCESS,n.listSaved),Object(p.a)(e,E.GET_A_LIST.REQUEST,n.alistRequest),Object(p.a)(e,E.GET_A_LIST.SUCCESS,n.aListFetched),Object(p.a)(e,E.CHECK_AND_SAVE,n.checkAList),Object(p.a)(e,E.MOVE_CHOOSE,n.moveTo),Object(p.a)(e,E.MOVE_TO,n.prependRequest),Object(p.a)(e,E.IMPORT_LIST,n.importListRequest),Object(p.a)(e,E.EXPORT_LIST,n.exportListRequest),Object(p.a)(e,E.ADD_OR_OPEN_LIST,n.addAListRequest),Object(p.a)(e,E.PLAN_WEEK,n.planWeek),Object(p.a)(e,E.ERROR,n.error),Object(p.a)(e,E.DATA_CONFLICT,n.dataConflict),e),n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"listOfListsRequest",value:function(e){return Object(c.a)({},e,{status_msg:"Loading lists ...",mode:v.mode.MODE_LOADING})}},{key:"alistRequest",value:function(e){return Object(c.a)({},e,{status_msg:"Loading list ...",mode:v.mode.MODE_LOADING})}},{key:"planWeek",value:function(e){return Object(c.a)({},e,{status_msg:"Planing a week ...",mode:v.mode.MODE_LOADING})}},{key:"removeListRequest",value:function(e){return Object(c.a)({},e,{status_msg:"Removing list ...",mode:v.mode.MODE_LOADING})}},{key:"importListRequest",value:function(e){return Object(c.a)({},e,{status_msg:"Adding a list on top ...",mode:v.mode.MODE_LOADING})}},{key:"exportListRequest",value:function(e){return Object(c.a)({},e,{status_msg:"Exporting to a list ...",mode:v.mode.MODE_LOADING})}},{key:"prependRequest",value:function(e){return Object(c.a)({},e,{status_msg:"Adding on top ...",mode:v.mode.MODE_LOADING})}},{key:"addAListRequest",value:function(e){return Object(c.a)({},e,{status_msg:"Checking lists ...",mode:v.mode.MODE_LOADING})}},{key:"checkAList",value:function(e){return Object(c.a)({},e,{status_msg:"Checking a list ..."})}},{key:"listSaved",value:function(e){return Object(c.a)({},e,{status_msg:"List saved"})}},{key:"listOfListsRefreshed",value:function(e,t){return Object(c.a)({},e,{lists:S(t.payload,"updatedAt",!0)})}},{key:"listOfListsFetched",value:function(e,t){return Object(c.a)({},e,{status_msg:"Lists loaded",mode:v.mode.MODE_LIST_OF_LISTS,lists:S(t.payload,"updatedAt",!0)})}},{key:"aListFetched",value:function(e,t){return t.payload?Object(c.a)({},e,{status_msg:t.payload.name+" loaded",mode:v.mode.MODE_A_LIST,a_list:t.payload}):e}},{key:"moveTo",value:function(e,t){return Object(c.a)({},e,{status_msg:"Move task to ... ",mode:v.mode.MODE_MOVE,from_list:t.payload.data.from_list,task:t.payload.data.task})}},{key:"error",value:function(e){return Object(c.a)({},e,{mode:v.mode.ERROR})}},{key:"dataConflict",value:function(e,t){var n=new Date(t.payload).toLocaleTimeString("lt-LT");return Object(c.a)({},e,{status_msg:n,mode:v.mode.DATA_CONFLICT})}}]),t}(g))).handleActions,F=Object(u.c)({app:P}),U=n(35),K=n(32),V=n(4),G=n.n(V),H=n(2),q=n(33),B=n.n(q),z=n(26);function J(e,t){var n=function(e){return Object(c.a)({},e,{headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin",mode:"cors"})}(t);return B()(e,n).then(function(e){var t=e.headers.get("content-type"),n=t&&t.indexOf("application/json")>=0;if(e.status>=200&&e.status<300)return n?z.Promise.resolve(e.json()):z.Promise.resolve(e.text());var a=new Error(e.statusText||e.status);if(n)return e.json().then(function(t){throw a.response=t,a.status=e.status,a});throw a.response={message:"msg_error_unexpected_error",status:e.status},a})}function W(e){return J(e,{method:"GET"})}function Q(e,t){return J(e,{method:"POST",body:JSON.stringify(t)})}function X(e,t){return J(e,{method:"PUT",body:JSON.stringify(t)})}function Y(e){return J(e,{method:"DELETE"})}var $=G.a.mark(ne),Z=G.a.mark(ae),ee=G.a.mark(se),te=G.a.mark(re);function ne(e,t){var n;return G.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(H.b)(W,e);case 3:return n=a.sent,a.next=6,Object(H.c)({type:t.SUCCESS,payload:n});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(H.c)({type:t.FAILURE,payload:a.t0});case 12:case"end":return a.stop()}},$,this,[[0,8]])}function ae(e,t,n){return G.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(H.b)(Y,e);case 3:return a.next=5,Object(H.c)({type:n.SUCCESS,payload:t});case 5:a.next=11;break;case 7:return a.prev=7,a.t0=a.catch(0),a.next=11,Object(H.c)({type:n.FAILURE,payload:a.t0});case 11:case"end":return a.stop()}},Z,this,[[0,7]])}function se(e,t,n){return G.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(H.b)(X,e,t);case 3:return a.next=5,Object(H.c)({type:n.SUCCESS,payload:t});case 5:a.next=11;break;case 7:return a.prev=7,a.t0=a.catch(0),a.next=11,Object(H.c)({type:n.FAILURE,payload:a.t0});case 11:case"end":return a.stop()}},ee,this,[[0,7]])}function re(e,t,n){var a,s;return G.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(H.b)(Q,e,t);case 3:return a=r.sent,s={data:a._id},r.next=7,Object(H.c)({type:n.SUCCESS,payload:s});case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(H.c)({type:n.FAILURE,payload:r.t0});case 13:case"end":return r.stop()}},te,this,[[0,9]])}var ie=function(){return L.apiHost+L.user.id+"/"},oe=function(){return ie()+L.listsAddon},ce=function(e){return oe()+"/"+e},le=function(e){var t={userId:L.user.id,lastAction:(new Date).toISOString()};return t.name=e,t.tasks="[]",t.done="[]",t},ue=["Sekmadien\u012f","Pirmadien\u012f","Antradien\u012f","Tre\u010diadien\u012f","Ketvirtadien\u012f","Penktadien\u012f","\u0160e\u0161tadien\u012f"],pe=["sausio","vasario","kovo","baland\u017eio","gegu\u017e\u0117s","bir\u017eelio","liepos","rugpj\u016b\u010dio","rugs\u0117jo","spalio","lapkri\u010dio","gruod\u017eio"],de=G.a.mark(je),me=G.a.mark(Ie),he=G.a.mark(Ae),fe=G.a.mark(xe),be=G.a.mark(Ne),Oe=G.a.mark(Ce),Ee=G.a.mark(we),ge=G.a.mark(Re),ve=G.a.mark(Me),ye=G.a.mark(Pe),ke=G.a.mark(Fe),Le=G.a.mark(Ue),Se=G.a.mark(Ke),Te=G.a.mark(Ve),_e=G.a.mark(Ge),De=G.a.mark(He);function je(){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(oe(),E.LIST_OF_LISTS);case 2:case"end":return e.stop()}},de,this)}function Ie(e){var t,n,a,s;return G.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.data,n=t.listId,r.next=4,Object(H.b)(W,ce(n));case 4:if((a=r.sent).lastAction===t.previousAction){r.next=14;break}if(!t.taskToAdd){r.next=11;break}return s={data:{listId:n,task:t.taskToAdd}},r.next=10,Object(H.c)({type:E.PREPEND,payload:s});case 10:return r.abrupt("return",r.sent);case 11:return r.next=13,Object(H.c)({type:E.DATA_CONFLICT,payload:a.lastAction});case 13:return r.abrupt("return",r.sent);case 14:return r.next=16,se(ce(n),t.listData,E.UPDATE_LIST);case 16:case"end":return r.stop()}},me,this)}function Ae(e){return G.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne(ce(e.payload.data),E.GET_A_LIST);case 2:case"end":return t.stop()}},he,this)}function xe(e){return G.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.payload){t.next=3;break}return t.next=3,ne(oe(),E.LIST_OF_LISTS);case 3:case"end":return t.stop()}},fe,this)}function Ne(e){return G.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae(ce(e.payload.data),e.payload.data,E.REMOVE_LIST);case 2:case"end":return t.stop()}},be,this)}function Ce(e){var t,n,a,s,r;return G.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=oe(),n=e.payload.data.listName,i.next=5,Object(H.b)(W,t);case 5:if(a=i.sent,!(s=a.filter(function(e){return e.name===n})).length){i.next=9;break}return i.abrupt("return",s[0]._id);case 9:return i.next=11,Object(H.b)(Q,t,le(n));case 11:return r=i.sent,i.next=14,ne(oe(),E.REFRESH_LIST);case 14:return i.abrupt("return",r._id);case 17:return i.prev=17,i.t0=i.catch(0),i.next=21,Me(i.t0);case 21:case"end":return i.stop()}},Oe,this,[[0,17]])}function we(e){var t,n,a;return G.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(H.b)(W,oe());case 3:if(t=s.sent,n=e.payload.data,!(a=t.filter(function(e){return e.name===n})).length){s.next=10;break}return s.next=9,ne(ce(a[0]._id),E.GET_A_LIST);case 9:return s.abrupt("return",s.sent);case 10:return s.next=12,re(oe(),le(n),E.NEW_LIST);case 12:return s.abrupt("return",s.sent);case 15:return s.prev=15,s.t0=s.catch(0),s.next=19,Me(s.t0);case 19:case"end":return s.stop()}},Ee,this,[[0,15]])}function Re(){var e,t,n,a,s;return G.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(H.b)(W,oe());case 3:e=r.sent,t=new Date,n=new Date,a=G.a.mark(function a(s){var r;return G.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=new Date(t.getTime()+864e5*s),r="".concat(ue[n.getDay()],", ").concat(pe[n.getMonth()]," ").concat(n.getDate()," d."),e.filter(function(e){return e.name===r}).length){a.next=6;break}return a.next=6,Object(H.b)(Q,oe(),le(r));case 6:case"end":return a.stop()}},a,this)}),s=6;case 8:if(!(s>=0)){r.next=13;break}return r.delegateYield(a(s),"t0",10);case 10:s--,r.next=8;break;case 13:return r.next=15,ne(oe(),E.LIST_OF_LISTS);case 15:return r.abrupt("return",r.sent);case 18:return r.prev=18,r.t1=r.catch(0),r.next=22,Me(r.t1);case 22:case"end":return r.stop()}},ge,this,[[0,18]])}function Me(e){return G.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(H.c)({type:E.ERROR,payload:e});case 2:case"end":return t.stop()}},ve,this)}function Pe(e){var t,n,a,s,r;return G.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=ce(e.payload.data.firstListId),n=ce(e.payload.data.secondListId),i.next=5,Object(H.b)(W,t);case 5:return a=i.sent,i.next=8,Object(H.b)(W,n);case 8:return s=i.sent,r={lastAction:(new Date).toISOString(),tasks:A(a.tasks,s.tasks)},i.next=12,Object(H.b)(X,n,r);case 12:return i.next=14,ne(n,E.GET_A_LIST);case 14:return i.abrupt("return",i.sent);case 17:return i.prev=17,i.t0=i.catch(0),i.next=21,Me(i.t0);case 21:case"end":return i.stop()}},ye,this,[[0,17]])}function Fe(e){var t,n,a,s,r;return G.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=ce(e.payload.data.listId),n=ce(e.payload.data.toListId),i.next=5,Object(H.b)(W,t);case 5:return a=i.sent,i.next=8,Object(H.b)(W,n);case 8:return s=i.sent,r={lastAction:(new Date).toISOString(),tasks:A(a.tasks,s.tasks)},i.next=12,Object(H.b)(X,n,r);case 12:return i.next=14,Object(H.b)(Y,t);case 14:return i.next=16,ne(n,E.GET_A_LIST);case 16:return i.abrupt("return",i.sent);case 19:return i.prev=19,i.t0=i.catch(0),i.next=23,Me(i.t0);case 23:case"end":return i.stop()}},ke,this,[[0,19]])}function Ue(e){return G.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ge(e);case 3:return t.next=5,Ve(e);case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Me(t.t0);case 11:case"end":return t.stop()}},Le,this,[[0,7]])}function Ke(e){return G.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ce(e);case 3:if(e.payload.data.listId=t.sent,!e.payload.data.move){t.next=7;break}return t.next=7,Ge(e);case 7:return t.next=9,Ve(e);case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=15,Me(t.t0);case 15:case"end":return t.stop()}},Se,this,[[0,11]])}function Ve(e){var t,n,a,s;return G.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload.data,n=ce(t.listId),r.next=5,Object(H.b)(W,n);case 5:return a=r.sent,s={lastAction:(new Date).toISOString(),tasks:x(t.task,a.tasks)},r.next=9,Object(H.b)(X,n,s);case 9:return r.next=11,ne(n,E.GET_A_LIST);case 11:return r.abrupt("return",r.sent);case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,Me(r.t0);case 18:case"end":return r.stop()}},Te,this,[[0,14]])}function Ge(e){var t,n,a,s;return G.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload.data,n=ce(t.fromListId),r.next=5,Object(H.b)(W,n);case 5:return a=r.sent,s={lastAction:(new Date).toISOString(),tasks:N(t.task,a.tasks)},r.next=9,Object(H.b)(X,n,s);case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(0),r.next=15,Me(r.t0);case 15:case"end":return r.stop()}},_e,this,[[0,11]])}function He(){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.a)([Object(H.d)(E.LIST_OF_LISTS.REQUEST,je),Object(H.d)(E.LIST_OF_LISTS.FAILURE,Me),Object(H.d)(E.GET_A_LIST.REQUEST,Ae),Object(H.d)(E.GET_A_LIST.SUCCESS,xe),Object(H.d)(E.GET_A_LIST.FAILURE,Me),Object(H.d)(E.REMOVE_LIST.REQUEST,Ne),Object(H.d)(E.REMOVE_LIST.SUCCESS,je),Object(H.d)(E.REMOVE_LIST.FAILURE,Me),Object(H.d)(E.NEW_LIST.SUCCESS,Ae),Object(H.d)(E.NEW_LIST.FAILURE,Me),Object(H.d)(E.UPDATE_LIST.FAILURE,Me),Object(H.d)(E.ADD_OR_OPEN_LIST,we),Object(H.d)(E.CHECK_AND_SAVE,Ie),Object(H.d)(E.PREPEND,Ve),Object(H.d)(E.MOVE_TO,Ue),Object(H.d)(E.COPY_OR_MOVE,Ke),Object(H.d)(E.IMPORT_LIST,Pe),Object(H.d)(E.EXPORT_LIST,Fe),Object(H.d)(E.PLAN_WEEK,Re)]);case 2:case"end":return e.stop()}},De,this)}var qe=G.a.mark(Be);function Be(){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.a)([He()]);case 2:case"end":return e.stop()}},qe,this)}var ze=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d;var Je=n(34),We=(n(50),function(){return s.a.createElement("div",{className:"spinner"},"Loading...")});function Qe(e,t,n){return{type:E.LIST_OF_LISTS.REQUEST,payload:{data:e,resolve:t,reject:n}}}function Xe(e,t,n){return{type:E.GET_A_LIST.REQUEST,payload:{data:e,resolve:t,reject:n}}}function Ye(e,t,n){return{type:E.REMOVE_LIST.REQUEST,payload:{data:e,resolve:t,reject:n}}}function $e(e,t,n){return{type:E.ADD_OR_OPEN_LIST,payload:{data:e,resolve:t,reject:n}}}function Ze(e,t,n){return{type:E.CHECK_AND_SAVE,payload:{data:e,resolve:t,reject:n}}}function et(e,t,n){return{type:E.PREPEND,payload:{data:e,resolve:t,reject:n}}}function tt(e,t,n){return{type:E.IMPORT_LIST,payload:{data:e,resolve:t,reject:n}}}function nt(e,t,n){return{type:E.EXPORT_LIST,payload:{data:e,resolve:t,reject:n}}}function at(e,t,n){return{type:E.MOVE_CHOOSE,payload:{data:e,resolve:t,reject:n}}}function st(e,t,n){return{type:E.MOVE_TO,payload:{data:e,resolve:t,reject:n}}}function rt(e,t,n){return{type:E.COPY_OR_MOVE,payload:{data:e,resolve:t,reject:n}}}function it(){return{type:E.PLAN_WEEK}}var ot=n(7),ct=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).hotKeyedListName=function(e){if(!n.props.hotKeys)return e;var t=n.props.hotKeys.filter(function(t){return t.listName===e});return t.length?n.strongify(e,t[0].key):e},n.strongify=function(e,t){var n=e.toLowerCase().indexOf(t);return-1===n?e:s.a.createElement("span",null,e.substring(0,n),s.a.createElement("u",null,e.substring(n,n+1)),e.substring(n+1,e.length))},n.contractedListItemHeader=function(e,t){var a="glyphicon-minus";return e.isContracted&&(a="glyphicon-plus"),s.a.createElement("tr",{key:"tr"+t},s.a.createElement("td",{colSpan:2,onClick:n.props.toggleContracted.bind(Object(ot.a)(Object(ot.a)(n)),e.contractedTitle,!e.isContracted)},s.a.createElement("span",{className:"glyphicon list-item list-item-glyph glyphicon "+a,"aria-hidden":"true"}),e.contractedTitle),s.a.createElement("td",{className:"right-align"},"(",s.a.createElement("strong",null,e.list.length),")"))},n.contractedListItems=function(e,t){return e.isContracted?null:e.list.map(n.displayIndentedListRow)},n.contractedList=function(e,t){return[n.contractedListItemHeader(e,t),n.contractedListItems(e,t)]},n.displayIndentedListRow=function(e,t){var a=n.prepareListForDisplaying(e);return a.indent=!0,n.displayListRow(a,t)},n.displayListRow=function(e,t){return s.a.createElement("tr",{key:"tr"+t},s.a.createElement("td",{className:e.itemClass,onClick:e.action},e.indent&&s.a.createElement("span",{className:"glyphicon list-item list-item-glyph","aria-hidden":"true"}," "),s.a.createElement("span",{className:"glyphicon list-item list-item-glyph glyphicon-folder-open","aria-hidden":"true"}),e.name),s.a.createElement("td",{className:"actions"},e.deletable&&s.a.createElement("span",{className:"glyphicon glyphicon-trash action-button","aria-hidden":"true",onClick:n.props.removeList.bind(Object(ot.a)(Object(ot.a)(n)),e._id)})),s.a.createElement("td",{className:"right-align"},"(",s.a.createElement("strong",null,e.noOfTasks),") ",e.updatedDateOrTime))},n.prepareListForDisplaying=function(e){var t={_id:e._id,tasks:e.tasks,noOfTasks:e.tasks?JSON.parse(e.tasks).length:0,name:n.hotKeyedListName(e.name),itemClass:"list-item",action:n.props.openList.bind(Object(ot.a)(Object(ot.a)(n)),e._id,e.name),deletable:!e.tasks||"[]"===e.tasks&&!e.immutable,updatedDateOrTime:w((new Date).toISOString())===w(e.updatedAt)?R(e.updatedAt):w(e.updatedAt)};return e.immutable&&(t.itemClass+=" list-item-immutable"),e.name===L.user.settings.openListIfExists&&(t.itemClass+=" list-item-current"),t},n.displayList=function(e,t){if(e.isList)return n.contractedList(e,t);var a=n.prepareListForDisplaying(e);return n.displayListRow(a,t)},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("table",{className:"table table-hover"},s.a.createElement("tbody",null,this.props.lists.map(this.displayList)))}}]),t}(a.Component),lt=function(e){var t=[];e.map(function(e){var n=e.name.indexOf(" - ");if(n>-1){var a=e.name.substring(0,n);t[a]||(t[a]={used:!1,list:[]}),t[a].list.push(e)}return null});var n=[];return e.map(function(e){var a=e.name.indexOf(" - ");if(a>-1){var s=e.name.substring(0,a);t[s].list.length>1?t[s].used||(t[s].used=!0,n.push({isList:!0,isContracted:!0,contractedTitle:s,list:t[s].list})):n.push(e)}else n.push(e);return null}),n},ut=n(27),pt=n.n(ut),dt=function(e){pt()(document).on("keypress",function(t){return e(t)})},mt=function(){pt()(document).off("keypress")},ht=function(){document.getElementById("clickSound").play()},ft=function(e){function t(e,n){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e,n))).checkKeyPressed=function(e){var t=String.fromCharCode(e.which);return"a"===t?(ht(),e.preventDefault(),void a.listNameInput.focus()):"r"===t?(ht(),e.preventDefault(),void a.reload()):void a.hotKeys.forEach(function(e){e.key===t&&(ht(),this.openAList(e.listId))}.bind(Object(ot.a)(Object(ot.a)(a))))},a.addHotKeys=function(){a.state.lists.forEach(function(e){if(!e.isList){var t=a.findFreeKey(e.name);t&&a.hotKeys.push({key:t,listId:e._id,listName:e.name})}})},a.keyIsNotOccupied=function(e){return!a.hotKeys.filter(function(t){return t.key===e}).length},a.findFreeKey=function(e){for(var t=0,n=e.length;t<n;t++){var s=e[t].toLowerCase();if(-1!=="abcdefghijklmnopqrstuvwxyz".indexOf(s)&&a.keyIsNotOccupied(s))return s}return null},a.reload=function(){a.props.actions.getListOfLists()},a.onNameChange=function(e){a.setState({listName:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.actions.addOrOpenAList(a.state.listName)},a.openAList=function(e){a.props.actions.getAList(e)},a.toggleContracted=function(e,t){var n=a.state.lists.map(function(n){return n.isList&&n.contractedTitle===e?Object(c.a)({},n,{isContracted:t}):n});a.setState({lists:n})},a.removeList=function(e){a.props.actions.removeList(e)},a.handleKeyDownAtListInput=function(e){27===e.keyCode&&(a.listNameInput.blur(),a.setState({listName:""}))},a.state={lists:lt(a.props.lists.filter(function(e){return!e.immutable})),immutableLists:a.props.lists.filter(function(e){return e.immutable}),listName:""},a.hotKeys=[{key:"a"},{key:"r"}],a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentWillUnmount",value:function(){mt()}},{key:"componentDidMount",value:function(){document.title="ToDo lists",dt(this.checkKeyPressed.bind(this))}},{key:"render",value:function(){var e=this;return this.addHotKeys(),s.a.createElement("div",null,s.a.createElement("h1",null,"Lists"),s.a.createElement(ct,{lists:this.state.lists,openList:this.openAList,toggleContracted:this.toggleContracted,removeList:this.removeList,hotKeys:this.hotKeys}),s.a.createElement("h3",null,"Protected"),s.a.createElement(ct,{lists:this.state.immutableLists,openList:this.openAList}),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("input",{className:"list-input",ref:function(t){e.listNameInput=t},value:this.state.listName,onFocus:mt.bind(this),onBlur:dt.bind(this,this.checkKeyPressed),onKeyDown:this.handleKeyDownAtListInput,onChange:this.onNameChange}),s.a.createElement("button",{disabled:!this.state.listName.trim()},"Create new list")),s.a.createElement("hr",null),s.a.createElement("button",{onClick:this.props.actions.planWeek},"Plan week"),s.a.createElement("button",{onClick:this.reload},s.a.createElement("span",{className:"glyphicon glyphicon-refresh","aria-hidden":"true"})," ",s.a.createElement("u",null,"R"),"eload"))}}]),t}(a.Component),bt=Object(o.b)(null,function(e){return{actions:Object(u.b)({getAList:Xe,getListOfLists:Qe,addOrOpenAList:$e,removeList:Ye,planWeek:it},e)}})(ft),Ot=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"hightlightOnDemand",value:function(e,t){return this.props.highlightIndex===t?s.a.createElement("strong",null,e):s.a.createElement("span",null,e)}},{key:"processTaskText",value:function(e){null===e&&(e="null");var t=e.substring(0,L.maxTaskLength),n=t;return"http"===e.substring(0,4)?("/"===(t=t.substr(t.indexOf("://")+3))[t.length-1]&&(t=t.substr(0,t.length-1)),n=s.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},t)):("["===e.substring(0,1)&&(n=s.a.createElement("span",null,s.a.createElement("span",{className:"glyphicon glyphicon-folder-open list-first-item","aria-hidden":"true",onClick:this.props.openListByName.bind(this,e.substring(1))}),t.substring(1))),n)}},{key:"displayTask",value:function(e,t,n){if(e===L.separatorString)return s.a.createElement("tr",{key:"tr"+t},s.a.createElement("td",null,L.separatorString),s.a.createElement("td",{className:"right-align"},L.separatorString));var a=t;a>=L.user.settings.displayListLength-L.user.settings.displayLast&&(a=t+n);var r=this.processTaskText(e);return this.props.immutable?s.a.createElement("tr",{key:"tr"+t},s.a.createElement("td",null,r)):s.a.createElement("tr",{key:"tr"+t},s.a.createElement("td",null,s.a.createElement("span",{className:"glyphicon glyphicon-unchecked action-button","aria-hidden":"true",onClick:this.props.done.bind(this,a)}),s.a.createElement("span",{className:"list-item task"},this.hightlightOnDemand(r,a))),s.a.createElement("td",{className:"actions"},s.a.createElement("span",{className:"glyphicon glyphicon-trash delete-button","aria-hidden":"true",onClick:this.props.delete.bind(this,a)}),s.a.createElement("span",{className:"list-item"}," "),s.a.createElement("span",{className:"glyphicon glyphicon-arrow-down action-button","aria-hidden":"true",onClick:this.props.procrastinate.bind(this,a)}),s.a.createElement("span",{className:"glyphicon glyphicon-arrow-up action-button","aria-hidden":"true",onClick:this.props.toTop.bind(this,a)}),s.a.createElement("span",{className:"glyphicon glyphicon-random action-button","aria-hidden":"true",onClick:this.props.move.bind(this,e)}),s.a.createElement("span",{className:"glyphicon glyphicon-thumbs-down action-button","aria-hidden":"true",onClick:this.props.postpone.bind(this,a)})))}},{key:"render",value:function(){var e=this,t=this.props.items,n=0;return!this.props.expand&&C("displayListLength",this.props.items)&&(n=this.props.items.length-L.user.settings.displayListLength,t=this.props.items.slice(0,L.user.settings.displayListLength-L.user.settings.displayLast-1).concat([L.separatorString]).concat(this.props.items.slice(-L.user.settings.displayLast))),s.a.createElement("table",{className:"table table-condensed table-hover"},s.a.createElement("tbody",null,t.map(function(t,a){return e.displayTask(t,a,n)})))}}]),t}(a.Component),Et=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).displayTask=function(e,t){return!n.props.expand&&t<n.props.items.length-L.user.settings.displayDoneLength?null:s.a.createElement("tr",{key:"tr"+t},s.a.createElement("td",null,s.a.createElement("span",{className:"glyphicon glyphicon-ok action-button","aria-hidden":"true",onClick:n.props.undone.bind(Object(ot.a)(Object(ot.a)(n)),t)}),s.a.createElement("span",{className:"list-item task done"},e)))},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,!this.props.expand&&C("displayDoneLength",this.props.items)&&L.separatorString,s.a.createElement("table",{className:"table table-sm table-condensed table-hover"},s.a.createElement("tbody",null,this.props.items.map(this.displayTask))))}}]),t}(a.Component),gt=function(e){function t(e,n){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e,n))).calculatePostponePosition=function(e){return Math.floor(e/2)},a.expand=function(e){a.setState(Object(p.a)({},e,!a.state[e]))},a.doneTask=function(e){var t=a.prepareClone(),n=T(a.state.itemsToDo,a.state.itemsDone,e,!1);t.itemsToDo=n.A,t.itemsDone=n.B,a.setState({lastAction:t.lastAction,itemsToDo:t.itemsToDo,itemsDone:t.itemsDone,highlightIndex:null}),a.props.actions.checkAndSave(a.serialize(t))},a.unDoneTask=function(e){var t=a.prepareClone(),n=T(a.state.itemsDone,a.state.itemsToDo,e,!0);t.itemsToDo=n.B,t.itemsDone=n.A,a.setState({lastAction:t.lastAction,itemsToDo:t.itemsToDo,itemsDone:t.itemsDone,highlightIndex:0}),a.props.actions.checkAndSave(a.serialize(t))},a.clearDone=function(){var e=a.prepareClone();e.itemsDone=[],a.setState({lastAction:e.lastAction,itemsDone:e.itemsDone,highlightIndex:null}),a.props.actions.checkAndSave(a.serialize(e))},a.removeTask=function(e){var t=a.prepareClone();t.itemsToDo=I(a.state.itemsToDo,e),a.setState({lastAction:t.lastAction,itemsToDo:t.itemsToDo,highlightIndex:null}),a.props.actions.checkAndSave(a.serialize(t))},a.toTop=function(e){var t=a.prepareClone();t.itemsToDo=D(a.state.itemsToDo,e),a.setState({lastAction:t.lastAction,itemsToDo:t.itemsToDo,highlightIndex:0}),a.props.actions.checkAndSave(a.serialize(t))},a.mark=function(){var e=a.prepareClone();e.immutable=!a.state.immutable,a.setState({lastAction:e.lastAction,immutable:e.immutable,highlightIndex:null}),a.props.actions.checkAndSave(a.serialize(e))},a.moveOutside=function(e){var t={from_list:{listId:a.props.list._id,name:a.state.listName},task:e};a.props.actions.moveOutside(t)},a.procrastinateTask=function(e){var t=a.prepareClone();t.itemsToDo=_(a.state.itemsToDo,e),a.setState({lastAction:t.lastAction,itemsToDo:t.itemsToDo,highlightIndex:a.state.itemsToDo.length}),a.props.actions.checkAndSave(a.serialize(t))},a.postponeTask=function(e){var t=a.prepareClone();t.itemsToDo=j(a.state.itemsToDo,e,e+a.calculatePostponePosition(a.state.itemsToDo.length));var n=Math.min(a.state.itemsToDo.length-1,e+a.calculatePostponePosition(a.state.itemsToDo.length));a.setState({lastAction:t.lastAction,itemsToDo:t.itemsToDo,highlightIndex:n}),a.props.actions.checkAndSave(a.serialize(t))},a.changeListName=function(e){var t=a.prepareClone();t.name=e.target.value.trim(),a.setState({lastAction:t.lastAction,listName:t.name,listNameOnEdit:!1,highlightIndex:null}),a.props.actions.checkAndSave(a.serialize(t)),dt(a.checkKeyPressed.bind(Object(ot.a)(Object(ot.a)(a))))},a.listChanger=function(e){a.props.actions.addOrOpenAList(e)},a.reload=function(){a.props.actions.getAList(a.props.list._id)},a.editListName=function(){a.setState({listNameOnEdit:!0})},a.checkKeyPressed=function(e){var t=String.fromCharCode(e.which);switch(-1!=="alrp<".indexOf(t)&&ht(),String.fromCharCode(e.which)){case"a":e.preventDefault(),a.taskInput.focus();break;case"l":e.preventDefault(),a.props.actions.getListOfLists();break;case"r":e.preventDefault(),a.reload();break;case"p":e.preventDefault(),a.mark();break;case"<":e.preventDefault(),a.props.previous_list&&a.listChanger(a.props.previous_list.name)}},a.handleHeaderSubmit=function(e){e.preventDefault()},a.handleKeyDownAtTask=function(e){27===e.keyCode&&(a.taskInput.blur(),a.setState({task:""}))},a.handleKeyDownAtHeader=function(e){switch(e.key){case"Enter":case"Tab":a.changeListName(e);break;case"Escape":a.setState({listNameOnEdit:!1})}},a.handleSubmit=function(e){e.preventDefault(),a.taskInput.blur();var t=a.prepareClone(),n=Math.min(a.state.itemsToDo.length,L.user.settings.addNewAt-1),s=a.state.task.replace(/(^\s+|\s+$)/g,"");t.itemsToDo=a.state.itemsToDo,t.itemsToDo.splice(L.user.settings.addNewAt-1,0,s),t.itemsToDo=k.a.unique(t.itemsToDo),t.taskToAdd=s,a.setState({lastAction:t.lastAction,itemsToDo:t.itemsToDo,highlightIndex:n,task:""}),a.props.actions.checkAndSave(a.serialize(t))},a.onChange=function(e){a.setState({task:e.target.value})},a.importList=function(e){var t={firstListId:e,secondListId:a.props.list._id};a.props.actions.importList(t)},a.exportList=function(e){var t={listId:a.props.list._id,toListId:e};a.props.actions.exportList(t)},a.makeListOption=function(e){return s.a.createElement("option",{key:"o-"+e._id,value:e._id},e.name)},a.displayImportBlock=function(){return a.state.immutable?null:s.a.createElement("select",{className:"import-select",onChange:function(e){e.target.value&&a.importList(e.target.value)}},s.a.createElement("option",{value:""},"Import list"),a.props.immutables.map(function(e){return a.makeListOption(e)}))},a.displayExportBlock=function(){return a.state.immutable?null:s.a.createElement("select",{className:"import-select",onChange:function(e){e.target.value&&a.exportList(e.target.value)}},s.a.createElement("option",{value:""},"Export to"),a.props.exportables.map(function(e){return a.makeListOption(e)}))},a.manageHeader=function(){return a.state.listNameOnEdit?s.a.createElement("h1",null,s.a.createElement("form",{onSubmit:a.handleHeaderSubmit},s.a.createElement("input",{ref:function(e){a.headerInput=e},className:"task-input",defaultValue:a.state.listName,onFocus:mt,onKeyDown:a.handleKeyDownAtHeader,onBlur:a.changeListName}))):s.a.createElement("div",null,s.a.createElement("h1",null,a.state.listName)," ",s.a.createElement("span",{className:"small action-button glyphicon glyphicon glyphicon-pencil","aria-hidden":"true",onClick:a.editListName}))},a.state={listName:e.list.name,itemsToDo:JSON.parse(a.props.list.tasks),itemsDone:a.props.list.done?JSON.parse(a.props.list.done):[],prepend:e.prepend,highLightIndex:e.prepend?0:null,lastAction:e.list.lastAction,immutable:e.list.immutable,task:"",reloadNeeded:!1,expandToDo:!1,listNameOnEdit:!1,expandDone:!1},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentWillUnmount",value:function(){mt()}},{key:"componentDidMount",value:function(){document.title="ToDo lists",dt(this.checkKeyPressed.bind(this))}},{key:"prepareClone",value:function(){var e={};return e.lastAction=(new Date).toISOString(),e.listId=this.props.list._id,e.previousAction=this.state.lastAction,e}},{key:"serialize",value:function(e){var t={listId:e.listId,previousAction:e.previousAction,listData:{lastAction:e.lastAction,immutable:!!e.immutable}};return e.name&&(t.listData.name=e.name),e.itemsToDo&&(t.listData.tasks=JSON.stringify(e.itemsToDo)),e.itemsDone&&(t.listData.done=JSON.stringify(e.itemsDone)),e.taskToAdd&&(t.taskToAdd=e.taskToAdd),t}},{key:"render",value:function(){var e=this,t=this.state.immutable?s.a.createElement("span",null,"Un",s.a.createElement("u",null,"p"),"rotect"):s.a.createElement("span",null,s.a.createElement("u",null,"P"),"rotect"),n=this.state.immutable?"screen-shot":"exclamation-sign",a=this.state.expandToDo?"glyphicon-resize-small":"glyphicon-resize-full",r=this.state.expandDone?"glyphicon-resize-small":"glyphicon-resize-full";return s.a.createElement("div",null,this.manageHeader(),s.a.createElement("h3",null,"Finished (",this.state.itemsDone.length,")",C("displayDoneLength",this.state.itemsDone)&&s.a.createElement("span",{className:"small action-button glyphicon "+r,"aria-hidden":"true",onClick:this.expand.bind(this,"expandDone")}),"  ",this.state.itemsDone.length>0&&s.a.createElement("span",{className:"small action-button glyphicon glyphicon-trash","aria-hidden":"true",onClick:this.clearDone})),s.a.createElement(Et,{items:this.state.itemsDone,undone:this.unDoneTask,expand:this.state.expandDone}),s.a.createElement("hr",null),s.a.createElement("h3",null,"Remaining (",this.state.itemsToDo.length,")",C("displayListLength",this.state.itemsToDo)&&s.a.createElement("span",{className:"small list-item action-button glyphicon "+a,"aria-hidden":"true",onClick:this.expand.bind(this,"expandToDo")})),s.a.createElement(Ot,{items:this.state.itemsToDo,highlightIndex:this.state.highlightIndex,immutable:this.state.immutable,delete:this.removeTask,move:this.moveOutside,toTop:this.toTop,postpone:this.postponeTask,procrastinate:this.procrastinateTask,openListByName:this.listChanger,reloadNeeded:this.state.reloadNeeded,done:this.doneTask,expand:this.state.expandToDo}),!this.state.immutable&&s.a.createElement("div",null,s.a.createElement("hr",null),s.a.createElement("h3",null,"Add new:"),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("input",{className:"task-input",ref:function(t){e.taskInput=t},value:this.state.task,onFocus:mt.bind(this),onBlur:dt.bind(this,this.checkKeyPressed),onKeyDown:this.handleKeyDownAtTask,onChange:this.onChange}),s.a.createElement("button",{disabled:!this.state.task.trim()},"Add task"))),s.a.createElement("hr",null),this.displayImportBlock(),this.displayExportBlock(),s.a.createElement("button",{disabled:this.state.task.trim(),onClick:this.mark},s.a.createElement("span",{className:"glyphicon glyphicon-"+n,"aria-hidden":"true"})," ",t),s.a.createElement("button",{onClick:this.reload},s.a.createElement("span",{className:"glyphicon glyphicon-refresh","aria-hidden":"true"})," ",s.a.createElement("u",null,"R"),"eload"),this.props.previous_list&&s.a.createElement("button",{disabled:this.state.task.trim(),onClick:this.listChanger.bind(this,this.props.previous_list.name)},s.a.createElement("span",{className:"glyphicon glyphicon-chevron-left","aria-hidden":"true"})," ",this.props.previous_list.name),s.a.createElement("button",{disabled:this.state.task.trim(),onClick:this.props.actions.getListOfLists},s.a.createElement("span",{className:"glyphicon glyphicon-tasks","aria-hidden":"true"})," ",s.a.createElement("u",null,"L"),"ists"),s.a.createElement("br",null))}}]),t}(a.Component),vt=Object(o.b)(null,function(e){return{actions:Object(u.b)({getAList:Xe,getListOfLists:Qe,checkAndSave:Ze,importList:tt,exportList:nt,addOrOpenAList:$e,moveOutside:at},e)}})(gt),yt=function(e){function t(e,n){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e,n))).back=function(){a.props.actions.getAList(a.props.from_list.listId)},a.move=function(e){a.props.actions.moveToList({listId:e,fromListId:a.props.from_list.listId,task:a.props.task})},a.copy=function(e){a.props.actions.prependToAList({listId:e,task:a.props.task})},a.displayToButton=function(e){return e._id===a.props.from_list.listId?null:s.a.createElement("tr",{key:"tr"+e._id},s.a.createElement("td",null,"To: ",s.a.createElement("strong",null,e.name)),s.a.createElement("td",null,s.a.createElement("button",{onClick:a.move.bind(Object(ot.a)(Object(ot.a)(a)),e._id,e.name,!1)},"Move")," ",s.a.createElement("button",{onClick:a.copy.bind(Object(ot.a)(Object(ot.a)(a)),e._id)},"Copy")))},a.handleSubmit=function(e){e.preventDefault(),a.props.actions.copyOrMoveToNew({fromListId:a.props.from_list.listId,task:a.props.task,listName:a.state.newListName,move:!0})},a.onListInputChange=function(e){a.setState({newListName:e.target.value})},a.state={newListName:"",movingItem:e.task},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("hr",null),s.a.createElement("h2",null,this.state.movingItem.substring(0,L.maxTaskLength)),s.a.createElement("table",{className:"table table-hover"},s.a.createElement("tbody",null,this.props.lists.map(function(t){return e.displayToButton(t)}))),s.a.createElement("hr",null),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("input",{className:"list-input",value:this.state.newListName,onChange:this.onListInputChange}),s.a.createElement("button",{disabled:!this.state.newListName.trim(),type:"submit"},"Move to new list")),s.a.createElement("hr",null),s.a.createElement("button",{onClick:this.back},"Back to ",this.props.from_list.name))}}]),t}(a.Component),kt=Object(o.b)(null,function(e){return{actions:Object(u.b)({getAList:Xe,moveToList:st,copyOrMoveToNew:rt,prependToAList:et},e)}})(yt),Lt=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(s)))).defaultReload=function(){window.location.reload()},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.msg?this.props.msg:"Ooops, something went wrong...",t=this.props.onClick?this.props.onClick:this.defaultReload;return s.a.createElement("div",null,s.a.createElement("br",null),e,s.a.createElement("br",null),"Please",s.a.createElement("button",{onClick:t},"reload"))}}]),t}(a.Component),St=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).switcher=function(){return n.props.mode?n.props.mode===v.mode.MODE_LOADING?We():n.props.mode===v.mode.MODE_LIST_OF_LISTS?s.a.createElement(bt,{lists:n.props.lists}):n.props.mode===v.mode.MODE_A_LIST?s.a.createElement(vt,{list:n.props.a_list,immutables:n.props.lists.filter(function(e){return e.immutable}),exportables:n.props.lists.filter(function(e){return e._id!==n.props.a_list._id&&!e.immutable}).slice(0,20),previous_list:n.props.from_list&&n.props.a_list._id===n.props.from_list.listId?null:n.props.from_list}):n.props.mode===v.mode.MODE_MOVE?s.a.createElement(kt,{lists:n.props.lists.filter(function(e){return!e.immutable}),task:n.props.task,from_list:n.props.from_list}):n.props.mode===v.mode.DATA_CONFLICT?s.a.createElement(Lt,{msg:"Data conflict"}):n.props.mode===v.mode.MODE_ERROR?s.a.createElement(Lt,{onClick:window.location.reload}):s.a.createElement("div",{className:"error"},"Mode ",n.props.mode," not impelemented"):s.a.createElement("div",{className:"error"},"mode undefined!")},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.mode||(this.props.openAtStartup,this.props.dispatch(Qe()))}},{key:"render",value:function(){return this.switcher()}}]),t}(a.Component),Tt=Object(o.b)(function(e){return{mode:e.app.mode,lists:e.app.lists,a_list:e.app.a_list,task:e.app.task,from_list:e.app.from_list}})(St),_t=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,this.props.status_msg)}}]),t}(a.Component),Dt=Object(o.b)(function(e){return{status_msg:e.app.status_msg}})(_t),jt=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(s)))).normaliser=function(e,t){return("00"+Math.floor(256*e/t).toString(16)).substr(-2,2)},n.versionColor=function(){var e=L.version.replace(/-/g,"");return"#"+n.normaliser(e.substring(2,4),31)+n.normaliser(e.substring(0,2),12)+n.normaliser(e.substring(4,6),24)},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("span",{className:"list-item"},s.a.createElement("span",{style:{color:this.versionColor()}}," ",L.version)," ",s.a.createElement("small",null,s.a.createElement("b",null,"production"))),s.a.createElement("span",{className:"glyphicon glyphicon-cog action-button","aria-hidden":"true"}),s.a.createElement("span",{className:"action-button"},L.user.name),s.a.createElement("audio",{id:"clickSound",src:L.clickSound}),s.a.createElement("hr",null))}}]),t}(a.Component);window.onbeforeunload=function(){return"Do you really want to leave ToDo app?"};var It=[];window.devToolsExtension?console.log("window.devToolsExtension is used: no Redux spam in console."):It.push(Object(Je.createLogger)());var At=function(e){var t=function(e){var t=Object(U.a)(),n=[t,K.a].concat(Object(l.a)(e));return Object(c.a)({},Object(u.e)(F,ze(u.a.apply(void 0,Object(l.a)(n)))),{runSaga:t.run})}(e);return t.runSaga(Be),t}(It);i.a.render(s.a.createElement(o.a,{store:At},s.a.createElement(Tt,{store:At,openAtStartup:L.user.settings.openListIfExists})),L.appNode),i.a.render(s.a.createElement(o.a,{store:At},s.a.createElement(Dt,{store:At})),L.statusNode),i.a.render(s.a.createElement(o.a,{store:At},s.a.createElement(jt,{store:At})),L.userNode)}},[[36,2,1]]]);
//# sourceMappingURL=main.ec5ecab1.chunk.js.map